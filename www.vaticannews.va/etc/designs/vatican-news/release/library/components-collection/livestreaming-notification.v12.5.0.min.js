var occurredLiveSwapStatus=!1,transactionSwapInProgress=!1,animationLiveSwap=!1,specificLiveForChannel=!1;
LiveStreaming={_langRequestPage:"",_divId:"",_label:"",_label2:"",_startedFrom:"",_itStartsSoon:"",interval:"",eventInLive_ID:"",firstEventDescription:"",firstEvent_isH24:!0,youtubeChannelID_EmbedPrefix:"https://www.youtube.com/embed/live_stream?channel\x3d",youtubeID_EmbedPrefix:"https://www.youtube.com/embed/",iframeFormat:'\x3ciframe width\x3d"236" height\x3d"131" src\x3d"{srcUrlEmbed}" allow\x3d"encrypted-media,autoplay" allowfullscreen\x3e\x3c/iframe\x3e',liveSwapHp:!0,eventLiveTitle:"",eventLiveUrlAudio:"",
startEventType:"startevent",endEventType:"endevent",playerType:"youtube",iframeFormatRWay:'\x3ciframe id\x3d"rwayPlayer" width\x3d"236" height\x3d"131" src\x3d"{srcUrlEmbed}" title\x3d"Vatican Media Live Player" frameborder\x3d"0" allow\x3d"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; web-share" allowfullscreen style\x3d"width: 236px; height: 131px;"\x3e\x3c/iframe\x3e',rway_EmbedPrefixPattern:"/content/vaticannews/service/player.{lang}.html",main:function(a,b,e,d,f,k,c){console.debug("livestreaming main "+
b);LiveStreaming.setProperty(a,b,e,d,f,k,c);LiveStreaming.readJson(a,b,e,d,f,k,c);setTimeout(function(){animationLiveSwap=!0},3E3)},restart:function(){""!=LiveStreaming._langRequestPage&&""!=LiveStreaming._divId&&""!=LiveStreaming._label&&""!=LiveStreaming._label2&&""!=LiveStreaming._startedFrom&&""!=LiveStreaming._itStartsSoon&&LiveStreaming.checkModified("fackOldJson",LiveStreaming.eventInLive_ID,LiveStreaming._langRequestPage,LiveStreaming._divId,LiveStreaming._label,LiveStreaming._label2,LiveStreaming._startedFrom,
LiveStreaming._itStartsSoon,LiveStreaming.playerType)},setProperty:function(a,b,e,d,f,k,c){LiveStreaming._langRequestPage=a;LiveStreaming._divId=b;LiveStreaming._label=e;LiveStreaming._label2=d;LiveStreaming._startedFrom=f;LiveStreaming._itStartsSoon=k;void 0!=c&&(LiveStreaming.playerType=c)},readJson:function(a,b,e,d,f,k,c){var g="/content/vaticannews/service/livestreaming.events.js";isDispatcher&&(g=getDispatcherPath(g));$.ajax({type:"GET",url:g,dataType:"json",statusCode:{403:function(){},404:function(){}},
success:function(h){"rway"===LiveStreaming.playerType?LiveStreaming.printRway(h,a,b,e,d,f,k):LiveStreaming.print(h,a,b,e,d,f,k);""===LiveStreaming.eventInLive_ID&&LiveStreaming.triggerEventAction(LiveStreaming.endEventType,"No Live Event Found");h=JSON.stringify(h);oldJsonMd5=CryptoJS.MD5(h);var l=LiveStreaming.eventInLive_ID;setTimeout(function(){LiveStreaming.checkModified(oldJsonMd5,l,a,b,e,d,f,k,c)},3E4)},error:function(){console.error("Livestreaming service - error");LiveStreaming.triggerEndEvent("Livestreaming service - error")}})},
print:function(a,b,e,d,f,k,c){var g="",h="",l=new Date,n=new Date;l.setDate(l.getDate()-1);n.setDate(n.getDate()+1);var r=new Date("2987-06-25T21:00:00+02:00"),p="",m="",q="",u="",y="",A="undefined",x="";x="";var E=!1,z;for(z in a.events){p=""+z;var t=!1;m=!1;var v=a.events[z],w=a.events[z].int;"undefined"!=typeof w&&(m=!0);var D=v.statusLive;if("complete"!=D){var B=v[b];"undefined"!=typeof B&&(t=!0);if(0!=t||0!=m){var C=v.start_scheduled_time;v.real_start_time&&(C=v.real_start_time);C=new Date(C);
if(C.valueOf()>l.valueOf()&&C.valueOf()<n.valueOf()&&(q=new Date("2987-06-25T21:00:00+01:00"),"undefined"!=typeof q&&q.valueOf()>new Date))if(E=!0,C.valueOf()<r.valueOf()){r=C;A=D;(new Date).valueOf()>=C.valueOf()&&(d=f,"live"==D&&(LiveStreaming.eventInLive_ID=v.id,t&&(specificLiveForChannel=!0)));if(t)p=void 0!=B.title?B.title:"",m=void 0!=B.description?B.description:"",u=B.youtube_id,y=B.channelId,LiveStreaming.liveSwapHp=1!=B.disableSwap;else if(m)p=void 0!=w.title?w.title:"",m=void 0!=w.description?
w.description:"",u=w.youtube_id,y=w.channelId,LiveStreaming.liveSwapHp=1!=w.disableSwap;else continue;"live"==D&&(LiveStreaming.eventLiveTitle=p,RadioRow.livestreamingStartEvent=!0,LiveStreaming.triggerStartEvent("Found event live"));q="undefined"!=typeof v.thumbnailUrl?v.thumbnailUrl:"https://img.youtube.com/vi/"+u+"/0.jpg";LiveStreaming.firstEventDescription=m;LiveStreaming.isHp&&(p=LiveStreaming.cutText(p,120),m=LiveStreaming.cutText(m,120));g="\x26autoplay\x3d"+(LiveStreaming.isHp&&LiveStreaming.liveSwapHp&&
specificLiveForChannel?"1":"0");x=LiveStreaming.youtubeID_EmbedPrefix+u+"?";x=x+"?mute\x3d0"+g;"undefined"!=typeof u&&""!=u?(x=LiveStreaming.youtubeID_EmbedPrefix+u+"?",x=x+"?mute\x3d0"+g):LiveStreaming.firstEvent_isH24&&"undefined"!=typeof y&&""!=y?(x=LiveStreaming.youtubeChannelID_EmbedPrefix+y+"\x26",x=x+"mute\x3d0"+g):(t=t?B.videoLink:w.videoLink,"undefined"!=typeof t&&""!=t&&(t=t.replaceAll(/^(https:\/\/)?(www\.)?youtu(\.)?be(\.com)?(\/live)?(\/watch\?v)?(=|\/)/g,""),t.includes(".")||t.includes("/")||
(u=t+"",x=LiveStreaming.youtubeID_EmbedPrefix+u+"?",x=x+"?mute\x3d0"+g,q="undefined"!=typeof v.thumbnailUrl?v.thumbnailUrl:"https://img.youtube.com/vi/"+u+"/0.jpg")));isDispatcher&&(q=getDispatcherPath(q));g='\x3carticle id\x3d"live-anchor"\x3e\x3cdiv class\x3d"teaser__labelWrapper"\x3e\x3cdiv class\x3d"teaser__label"\x3e\x3cspan\x3e'+d+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teaser__contentWrapper"\x3e\x3cdiv class\x3d"embed__container"'+("live"==D?"\x3e"+LiveStreaming.iframeFormat.replace("{srcUrlEmbed}",
x):" data-urlEmbed\x3d'"+x+"'\x3e")+'\x3c/div\x3e\x3cfigure class\x3d"teaser__image"\x3e\x3cpicture\x3e\x3cimg src\x3d"'+q+'" alt\x3d"'+p+'"\x3e\x3c/picture\x3e\x3c/figure\x3e\x3cdiv class\x3d"teaser__info"\x3e\x3cspan\x3e\x3c/span\x3e\x3cdiv class\x3d"liveLabel livestreaming"\x3e\x3cspan id\x3d"live-countdown-'+e+'"\x3e'+LiveStreaming.liveStreamingformatDate(C)+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"teaser__title"\x3e\x3cspan\x3e'+p+'\x3c/span\x3e\x3c/h2\x3e\x3cdiv class\x3d"livestreaming teaser__description"\x3e'+
m+"\x3c/div\x3e\x3c/div\x3e\x3c/article\x3e"}else v="",t?v=B.title:m&&(v=w.title),h+='\x3carticle\x3e\x3cdiv class\x3d"liveLabel_other livestreaming"\x3e\x3cspan id\x3d"live-countdown-'+p+'"\x3e'+LiveStreaming.liveStreamingformatDate(C)+'\x3c/span\x3e\x3cimg src\x3d"/etc/designs/vatican-news/release/library/main/images/live_ico.png"\x3e\x3c/div\x3e\x3cspan\x3e'+v+"\x3c/span\x3e\x3c/article\x3e"}}}E&&(a=$("body.vatican-news.lang_event_1_two_shoulders .sidebar-main:not(.sidebar_2nd) \x3e .spc-facebook-widget.teaser \x3e .fb-page"),
1==a.length&&a.css("display","none"),$(".livestreaming-notification").removeClass("hidden"),LiveStreaming.isHp?$(".livestreaming_other_label").remove():""!=g&&""!=h?($(".livestreaming_other").css("display","block"),$(".livestreaming_other_label").css("display","flex"),$("#livestreaming_other-"+e).append(h)):$(".livestreaming-notification h5 \x3e * ").remove(),"undefined"!==typeof PageUtils&&(PageUtils.checkShoulderSpace(),1==$(".sidebar-main.sidebar_2nd").length&&PageUtils.checkSecondShoulder(!1)),
h=$(".livestreaming-notification #livestreaming-notification-"+e),!LiveStreaming.swapIsActiveOrInProgress()&&0<h.length&&(h.attr("href",""),h.append(g)),"undefined"!==typeof Edit&&Edit.teaserListFix(),"undefined"!==typeof PageUtils&&PageUtils.checkLiveStreamingDescription(),LiveStreaming.interval=setInterval(function(){LiveStreaming.countdown(b,r,A,e,k,c,u,y,!1)},1E3))},printRway:function(a,b,e,d,f,k,c){var g="",h="",l=new Date,n=new Date;l.setDate(l.getDate()-1);n.setDate(n.getDate()+1);var r=new Date("2987-06-25T21:00:00+02:00"),
p="",m="",q="",u="undefined",y="",A=!1,x;for(x in a.events){p=""+x;var E=m=!1,z=a.events[x];q=a.events[x].int;"undefined"!=typeof q&&(y=LiveStreaming.rway_EmbedPrefixPattern.replace(/{lang}/g,"int"),E=!0);var t=z.statusLive;if("complete"!=t){var v=z[b];"undefined"!=typeof v&&(y=LiveStreaming.rway_EmbedPrefixPattern.replace(/{lang}/g,b),m=!0);if(0!=m||0!=E){var w=z.start_scheduled_time;z.real_start_time&&(w=z.real_start_time);w=new Date(w);if(w.valueOf()>l.valueOf()&&w.valueOf()<n.valueOf()){var D=
new Date("2987-06-25T21:00:00+01:00");if("undefined"!=typeof D&&D.valueOf()>new Date)if(A=!0,w.valueOf()<r.valueOf()){r=w;u=t;(new Date).valueOf()>=w.valueOf()&&(d=f,"live"==t&&(LiveStreaming.eventInLive_ID=z.id,m&&(specificLiveForChannel=!0)));if(m)p=void 0!=v.title?v.title:"",m=void 0!=v.description?v.description:"",LiveStreaming.liveSwapHp=1!=v.disableSwap;else if(E)p=void 0!=q.title?q.title:"",m=void 0!=q.description?q.description:"",LiveStreaming.liveSwapHp=1!=q.disableSwap;else continue;"live"==
t&&(LiveStreaming.eventLiveTitle=p,RadioRow.livestreamingStartEvent=!0,LiveStreaming.triggerStartEvent("Found event live"));q="undefined"!=typeof z.thumbnailUrl?z.thumbnailUrl:"";LiveStreaming.firstEventDescription=m;LiveStreaming.isHp&&(p=LiveStreaming.cutText(p,120),m=LiveStreaming.cutText(m,120));isDispatcher&&(q=getDispatcherPath(q));g='\x3carticle id\x3d"live-anchor"\x3e\x3cdiv class\x3d"teaser__labelWrapper"\x3e\x3cdiv class\x3d"teaser__label"\x3e\x3cspan\x3e'+d+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teaser__contentWrapper"\x3e\x3cdiv class\x3d"embed__container"'+
("live"==t?"\x3e"+LiveStreaming.iframeFormatRWay.replace("{srcUrlEmbed}",y):" data-urlEmbed\x3d'"+y+"'\x3e")+'\x3c/div\x3e\x3cfigure class\x3d"teaser__image"\x3e\x3cpicture\x3e\x3cimg src\x3d"'+q+'" alt\x3d"'+p+'"\x3e\x3c/picture\x3e\x3c/figure\x3e\x3cdiv class\x3d"teaser__info"\x3e\x3cspan\x3e\x3c/span\x3e\x3cdiv class\x3d"liveLabel livestreaming"\x3e\x3cspan id\x3d"live-countdown-'+e+'"\x3e'+LiveStreaming.liveStreamingformatDate(w)+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"teaser__title"\x3e\x3cspan\x3e'+
p+'\x3c/span\x3e\x3c/h2\x3e\x3cdiv class\x3d"livestreaming teaser__description"\x3e'+m+"\x3c/div\x3e\x3c/div\x3e\x3c/article\x3e"}else t="",m?t=v.title:E&&(t=q.title),h+='\x3carticle\x3e\x3cdiv class\x3d"liveLabel_other livestreaming"\x3e\x3cspan id\x3d"live-countdown-'+p+'"\x3e'+LiveStreaming.liveStreamingformatDate(w)+'\x3c/span\x3e\x3cimg src\x3d"/etc/designs/vatican-news/release/library/main/images/live_ico.png"\x3e\x3c/div\x3e\x3cspan\x3e'+t+"\x3c/span\x3e\x3c/article\x3e"}}}}A&&(a=$("body.vatican-news.lang_event_1_two_shoulders .sidebar-main:not(.sidebar_2nd) \x3e .spc-facebook-widget.teaser \x3e .fb-page"),
1==a.length&&a.css("display","none"),$(".livestreaming-notification").removeClass("hidden"),LiveStreaming.isHp?$(".livestreaming_other_label").remove():""!=g&&""!=h?($(".livestreaming_other").css("display","block"),$(".livestreaming_other_label").css("display","flex"),$("#livestreaming_other-"+e).append(h)):$(".livestreaming-notification h5 \x3e * ").remove(),"undefined"!==typeof PageUtils&&(PageUtils.checkShoulderSpace(),1==$(".sidebar-main.sidebar_2nd").length&&PageUtils.checkSecondShoulder(!1)),
h=$(".livestreaming-notification #livestreaming-notification-"+e),!LiveStreaming.swapIsActiveOrInProgress()&&0<h.length&&(h.attr("href",""),h.append(g)),"undefined"!==typeof Edit&&Edit.teaserListFix(),"undefined"!==typeof PageUtils&&PageUtils.checkLiveStreamingDescription(),LiveStreaming.interval=setInterval(function(){LiveStreaming.countdownRway(b,r,u,e,k,c,y,!1)},1E3))},countdownText:function(a,b,e,d){b=moment(b);a=moment(b).locale(a).fromNow();a.startsWith("in")&&(a=a.replace("in","tra"));$("#live-countdown-"+
e).html(d+" "+a)},aboutTostart:function(a,b){clearInterval(LiveStreaming.interval);$("#live-countdown-"+a).html(b)},countdown:function(a,b,e,d,f,k,c,g,h){var l=moment.duration(new Date(b)-new Date),n=l._data.years,r=l._data.months,p=l._data.days,m=l._data.hours,q=l._data.minutes,u=l._data.seconds,y=new Date;l=$("#live-countdown-"+d);if("live"!=e&&b.valueOf()<=y.valueOf())animationLiveSwap=!0,LiveStreaming.aboutTostart(d,k);else if("live"==e&&b.valueOf()<=y.valueOf()){n=new Date(b);n.setMinutes(b.getMinutes()+
5);y.valueOf()>=n.valueOf()?LiveStreaming.countdownText(a,b,d,f):(a=l.html(),""!=a&&a!=LiveStreaming._label2&&l.html(LiveStreaming._label2));a=$(".livestreaming-notification .embed__container");b=$(".livestreaming-notification .teaser__image");d=$(".livestreaming-notification .embed__container iframe");f=a.css("display");n=b.css("display");r=d.attr("src");p="\x26autoplay\x3d"+(LiveStreaming.isHp&&LiveStreaming.liveSwapHp&&specificLiveForChannel?"1":"0");if("undefined"!=typeof c&&""!=c){g=LiveStreaming.youtubeID_EmbedPrefix+
c+"?";var A=g+"?mute\x3d0"+p}else LiveStreaming.firstEvent_isH24&&"undefined"!=typeof g&&""!=g&&(g=LiveStreaming.youtubeChannelID_EmbedPrefix+g+"\x26",A=g+"mute\x3d0"+p);LiveStreaming.isHp&&LiveStreaming.liveSwapHp&&!occurredLiveSwapStatus&&LiveStreaming.swapWithOpeningDiv(c,A);0==d.length&&(a.append(LiveStreaming.iframeFormat.replace("{srcUrlEmbed}",a.attr("data-urlEmbed"))),d=$(".livestreaming-notification .embed__container iframe"),r=d.attr("src"));"undefined"!=typeof f&&"block"!=f&&(a.css("display",
"block"),"undefined"!=typeof r&&r!=A&&d.attr("src",A));"undefined"!=typeof n&&"none"!=n&&(b.css("display","none"),1==$("body.vatican-news.lang_event_1_two_shoulders").length&&1==$("div.slider-list-container").length&&window.CSSBS_mobile&&"undefined"!==typeof SpecialEvents&&SpecialEvents.fixFbUnderLive());c=l.parent();c.hasClass("live__icon")?c.removeClass("live__icon"):c.addClass("live__icon")}else h&&(c="",0<n&&(c+=n+"Y-"),0<r&&(c+=(10>r?"0":"")+r+"M-"),0<p&&(c+=(10>p?"0":"")+p+"d-"),0<m&&(c+=(10>
m?"0":"")+m+"h-"),0<=q&&(c+=(10>q?"0":"")+q+"m-"),0<=u&&(c+=(10>u?"0":"")+u+"s"),l.html(c))},countdownRway:function(a,b,e,d,f,k,c,g){var h=moment.duration(new Date(b)-new Date),l=h._data.years,n=h._data.months,r=h._data.days,p=h._data.hours,m=h._data.minutes,q=h._data.seconds,u=new Date;h=$("#live-countdown-"+d);"live"!=e&&b.valueOf()<=u.valueOf()?(animationLiveSwap=!0,LiveStreaming.aboutTostart(d,k)):"live"==e&&b.valueOf()<=u.valueOf()?(l=new Date(b),l.setMinutes(b.getMinutes()+5),u.valueOf()>=l.valueOf()?
LiveStreaming.countdownText(a,b,d,f):(a=h.html(),""!=a&&a!=LiveStreaming._label2&&h.html(LiveStreaming._label2)),a=$(".livestreaming-notification .embed__container"),b=$(".livestreaming-notification .teaser__image"),d=$(".livestreaming-notification .embed__container iframe"),f=a.css("display"),l=b.css("display"),n=d.attr("src"),LiveStreaming.isHp&&LiveStreaming.liveSwapHp&&!occurredLiveSwapStatus&&LiveStreaming.swapWithOpeningDiv("",c),0==d.length&&(a.append(LiveStreaming.iframeFormatRWay.replace("{srcUrlEmbed}",
a.attr("data-urlEmbed"))),d=$(".livestreaming-notification .embed__container iframe"),n=d.attr("src")),"undefined"!=typeof f&&"block"!=f&&(a.css("display","block"),"undefined"!=typeof n&&n!=c&&d.attr("src",c)),"undefined"!=typeof l&&"none"!=l&&(b.css("display","none"),1==$("body.vatican-news.lang_event_1_two_shoulders").length&&1==$("div.slider-list-container").length&&window.CSSBS_mobile&&"undefined"!==typeof SpecialEvents&&SpecialEvents.fixFbUnderLive()),c=h.parent(),c.hasClass("live__icon")?c.removeClass("live__icon"):
c.addClass("live__icon")):g&&(c="",0<l&&(c+=l+"Y-"),0<n&&(c+=(10>n?"0":"")+n+"M-"),0<r&&(c+=(10>r?"0":"")+r+"d-"),0<p&&(c+=(10>p?"0":"")+p+"h-"),0<=m&&(c+=(10>m?"0":"")+m+"m-"),0<=q&&(c+=(10>q?"0":"")+q+"s"),h.html(c))},checkModified:function(a,b,e,d,f,k,c,g,h){var l="/content/vaticannews/service/livestreaming.events.js";isDispatcher&&(l=getDispatcherPath(l));jQuery.ajax(l,{statusCode:{403:function(){},404:function(){}},dataType:"json"}).done(function(n){var r=JSON.stringify(n);r=CryptoJS.MD5(r);
JSON.stringify(a)===JSON.stringify(r)?setTimeout(function(){LiveStreaming.checkModified(a,b,e,d,f,k,c,g,h)},3E4):""==LiveStreaming.eventInLive_ID||LiveStreaming.eventInLive_ID!=b?(LiveStreaming.clean(d),""==LiveStreaming.eventInLive_ID&&""!==b&&LiveStreaming.triggerEndEvent("stop event"),setTimeout(function(){LiveStreaming.main(e,d,f,k,c,g,h)},3E3)):(LiveStreaming.setIsChange_IDEventInLive(n),setTimeout(function(){LiveStreaming.checkModified(a,b,e,d,f,k,c,g,h)},3E4))})},setIsChange_IDEventInLive:function(a){var b=
new Date("2987-06-25T21:00:00+02:00"),e=new Date,d=new Date,f=!1;e.setDate(e.getDate()-1);d.setDate(d.getDate()+1);for(var k in a.events){var c=a.events[k];if("undefined"!=typeof c&&"undefined"!=c.id){var g=c.statusLive;if("undefined"!=typeof g&&"live"==g&&(g=c.start_scheduled_time,c.real_start_time&&(g=c.real_start_time),g=new Date(g),g.valueOf()>e.valueOf()&&g.valueOf()<d.valueOf())){var h=new Date("2987-06-25T21:00:00+01:00");"undefined"!=typeof h&&h.valueOf()>new Date&&g.valueOf()<b.valueOf()&&
(LiveStreaming.eventInLive_ID=c.id,f=!0)}}}0==f&&(LiveStreaming.eventInLive_ID="")},clean:function(a){LiveStreaming.swapIsActive()?(LiveStreaming.swapReset(),setTimeout(function(){$(".livestreaming-notification #livestreaming-notification-"+a+" \x3e *").remove();$(".livestreaming-notification #livestreaming_other-"+a+" \x3e *").remove();$(".livestreaming_other_label").css("display","none");$(".livestreaming-notification").addClass("hidden");"undefined"!==typeof PageUtils&&(PageUtils.checkShoulderSpace(),
1==$(".sidebar-main.sidebar_2nd").length&&PageUtils.checkSecondShoulder(!1));clearInterval(LiveStreaming.interval);"undefined"!==typeof Edit&&Edit.teaserListFix()},1E3)):($(".livestreaming-notification #livestreaming-notification-"+a+" \x3e *").remove(),$(".livestreaming-notification #livestreaming_other-"+a+" \x3e *").remove(),$(".livestreaming_other_label").css("display","none"),$(".livestreaming-notification").addClass("hidden"),"undefined"!==typeof PageUtils&&(PageUtils.checkShoulderSpace(),1==
$(".sidebar-main.sidebar_2nd").length&&PageUtils.checkSecondShoulder(!1)),clearInterval(LiveStreaming.interval),"undefined"!==typeof Edit&&Edit.teaserListFix())},isHomePage:function(){return/^((\/content\/vaticannews)?\/([a-zA-Z]{2,3}).html)$/.test(window.location.pathname)},isMobile:function(){return $("html").hasClass("mobile")&&!$("html").hasClass("tablet")},liveStreamingformatDate:function(a){return AemUtils.formatDate(a,AemUtils.LIVESTREAMING_DATE_FORMAT)},escapeRegExp:function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,
"\\$1")},replaceAll:function(a,b,e){return a.replace(new RegExp(LiveStreaming.escapeRegExp(b),"g"),e)},cutText:function(a,b){"undefined"==typeof a&&(a="");a.length>b&&(a=a.substring(0,b-3),a+="...");return a},fromNow:function(a,b,e){b=moment(b);a=moment(b).locale(a).fromNow();a.startsWith("in")&&(a=a.replace("in","tra"));return e+" "+a},swapIsActive:function(){return occurredLiveSwapStatus},swapIsActiveOrInProgress:function(){return 1==occurredLiveSwapStatus||1==transactionSwapInProgress},swapWithOpeningDiv:function(a,
b){console.debug("swapWithOpeningDiv");var e="500",d="281";if(0<$("#anchor-opening-2x2").length){var f="anchor-opening-2x2";var k="#"+f;e="500";d="281"}else 0<$("#anchor-opening-3x3").length?(f="anchor-opening-3x3",k="#"+f,e="750",d="422"):0<$("#anchor-opening-extralarge").length&&(f="anchor-opening-extralarge",k="#"+f,e="1000",d="563");$("html").hasClass("mobile")&&!$("html").hasClass("tablet")?(e="250",d="141"):setTimeout(function(){$("html").hasClass("mobile")&&!$("html").hasClass("tablet")&&(e=
"250",d="141")},500);1==animationLiveSwap?"undefined"!=typeof f&&$("#live-anchor").swap({target:f,opacity:"0.5",speed:4E3,preswap:function(){$("html, body").animate({scrollTop:0},"slow");transactionSwapInProgress=!0;$(k).css("background","#c00");$(k).parent().css("visibility","0.5");$("#live-anchor").parent().parent().removeClass("livestreaming-notification");$("#live-anchor").parent().parent().addClass("livestreaming-notification-swap-active");$(".livestreaming-notification-swap-active figure").css("display",
"none");$("#live-anchor").css("background","#c00");$(".sidebar-main.sidebarPrimary.sidebar-main--variable-height").css("overflow","visible");animationLiveSwap&&($(k).addClass("swap-scale"),$("#live-anchor").addClass("swap-scaleZoom"))},callback:function(){$(".livestreaming-notification-swap-active figure").css("display","none");var c=$("#live-anchor").parent(),g=$("#live-anchor").parent().html(),h=$(k).parent(),l=$(k).parent().html();$(k).remove();$("#live-anchor").remove();h.hasClass("teaser--type-audio")&&
c.addClass("teaser--type-audio");h.hasClass("audioInside")&&c.addClass("audioInside");h.hasClass("videoInside")&&c.addClass("videoInside");h.removeClass(function(n,r){return(r.match(/(^|\s)(teaser--type-\w+|audioInside|videoInside)/g)||[]).join(" ")});h.addClass("teaser teaser-opening teaser--type-video livestreaming-swap-active");c.prepend(l);h.prepend(g);h.removeAttr("style");$(k).removeAttr("style");$("#live-anchor").removeAttr("style");$(".sidebar-main.sidebarPrimary.sidebar-main--variable-height").removeAttr("style");
$(k).removeClass("swap-scale");$("#live-anchor").removeClass("swap-scaleZoom");$("#live-anchor").attr("id","live-anchor-active");$(k).attr("id",f+"-active");$(".livestreaming-notification-swap-active figure").css("display","block");$("#live-anchor-active .embed__container").css("height","auto");$("#live-anchor-active .embed__container \x3e iframe").css("width",e);$("#live-anchor-active .embed__container \x3e iframe").css("height",d);$(".livestreaming-swap-active .embed__container iframe").attr("src",
b);""!=LiveStreaming.firstEventDescription&&(c=LiveStreaming.cutText(LiveStreaming.firstEventDescription,350),""!=c&&$(".livestreaming.teaser__description").html(c));occurredLiveSwapStatus=!0;transactionSwapInProgress=!1;"undefined"!==typeof Edit&&Edit.teaserListFix();$(k+"-active").find(".vn_social_inline_share_toolbox").addClass("torebind");VNSocialShare.bindActions("torebind")}}):LiveStreaming.swapWithoutAnimation(f,e,d,b);PageUtils.repositionShoulderAfterSwapExtralarge()},swapWithoutAnimation:function(a,
b,e,d){var f="#"+a;if("undefined"!=typeof $(f)){$("html, body").animate({scrollTop:0},"slow");$(f).parent().css("visibility","0.5");$("#live-anchor").parent().parent().css("visibility","0.5");$("#live-anchor").parent().parent().removeClass("livestreaming-notification");$("#live-anchor").parent().parent().addClass("livestreaming-notification-swap-active");$(".livestreaming-notification-swap-active figure").css("display","none");var k=$("#live-anchor").parent(),c=$("#live-anchor").parent().html(),g=
$(f).parent(),h=$(f).parent().html();$(f).remove();$("#live-anchor").remove();g.hasClass("teaser--type-audio")&&k.addClass("teaser--type-audio");g.hasClass("audioInside")&&k.addClass("audioInside");g.hasClass("videoInside")&&k.addClass("videoInside");g.removeClass(function(l,n){return(n.match(/(^|\s)(teaser--type-\w+|audioInside|videoInside)/g)||[]).join(" ")});g.addClass("teaser teaser-opening teaser--type-video livestreaming-swap-active");k.prepend(h);g.prepend(c);g.removeAttr("style");$(f).removeAttr("style");
$("#live-anchor").removeAttr("style");$(".sidebar-main.sidebarPrimary.sidebar-main--variable-height").removeAttr("style");$("#live-anchor").attr("id","live-anchor-active");$(f).attr("id",a+"-active");$(".livestreaming-notification-swap-active figure").css("display","block");$("#live-anchor-active .embed__container").css("height","auto");$("#live-anchor-active .embed__container \x3e iframe").css("width",b);$("#live-anchor-active .embed__container \x3e iframe").css("height",e);$(".livestreaming-swap-active .embed__container iframe").attr("src",
d);""!=LiveStreaming.firstEventDescription&&(a=LiveStreaming.cutText(LiveStreaming.firstEventDescription,350),""!=a&&$(".livestreaming.teaser__description").html(a));occurredLiveSwapStatus=!0;"undefined"!==typeof Edit&&Edit.teaserListFix();$(f+"-active").find(".vn_social_inline_share_toolbox").addClass("torebind");VNSocialShare.bindActions("torebind")}transactionSwapInProgress=!1},swapReset:function(){if(0<$("#anchor-opening-2x2-active").length){var a="anchor-opening-2x2-active";var b="#"+a;resetTargetOpening=
"anchor-opening-2x2"}else 0<$("#anchor-opening-3x3-active").length?(a="anchor-opening-3x3-active",b="#"+a,resetTargetOpening="anchor-opening-3x3"):0<$("#anchor-opening-extralarge-active").length&&(a="anchor-opening-extralarge-active",b="#"+a,resetTargetOpening="anchor-opening-extralarge");$("html").hasClass("mobile")&&!$("html").hasClass("tablet")||setTimeout(function(){$("html").hasClass("mobile")&&$("html").hasClass("tablet")},500);"undefined"!=typeof a&&$("#live-anchor-active").swap({target:a,
opacity:"0.5",speed:4E3,preswap:function(){transactionSwapInProgress=!0;$(b).css("background","#c00");$(b).parent().css("visibility","0.5");$(".livestreaming-notification-swap-active .embed__container iframe").removeAttr("src");$("#live-anchor").css("background","#c00");$(".sidebar-main.sidebarPrimary.sidebar-main--variable-height").css("overflow","visible");animationLiveSwap&&($(b).addClass("swap-scaleZoom"),$("#live-anchor-active").addClass("swap-scale"))},callback:function(){var e=$("#live-anchor-active").parent(),
d=$("#live-anchor-active").parent().html(),f=$(b).parent(),k=$(b).parent().html();$(b).remove();$("#live-anchor-active").remove();e.prepend(k);f.prepend(d);f.removeAttr("style");$(b).removeAttr("style");$("#live-anchor-active").removeAttr("style");$(".sidebar-main.sidebarPrimary.sidebar-main--variable-height").removeAttr("style");$(b).removeClass("swap-scaleZoom");$("#live-anchor-active").removeClass("swap-scale");$("#live-anchor-active").attr("id","live-anchor");$(b).attr("id",resetTargetOpening);
$("#"+resetTargetOpening).parent().removeClass("livestreaming-swap-active");$("#"+resetTargetOpening).parent().removeClass("teaser--type-video");$("#live-anchor").parent().parent().removeClass("livestreaming-notification-swap-active");$("#live-anchor").parent().parent().addClass("livestreaming-notification");f.hasClass("teaser--type-audio")&&e.addClass("teaser--type-audio");f.hasClass("audioInside")&&e.addClass("audioInside");f.hasClass("videoInside")&&e.addClass("videoInside");f.removeClass(function(c,
g){return(g.match(/(^|\s)(teaser--type-\w+|audioInside|videoInside)/g)||[]).join(" ")});f.addClass("teaser teaser--type-video");transactionSwapInProgress=occurredLiveSwapStatus=!1;$("#"+resetTargetOpening).find(".vn_social_inline_share_toolbox").addClass("torebind");VNSocialShare.bindActions("torebind");LiveStreaming.restart()}})},init:function(a,b,e,d,f,k,c){$(document).ready(function(){LiveStreaming.isHp=LiveStreaming.isHomePage();"zht"===a&&(a="zh");LiveStreaming.main(a,b,e,d,f,k,c)})},triggerEventAction:function(a,
b){var e=$(".livestreaming-notification");1==e.length?(b="Trigger "+a+(b?" - CASE: "+b:""),console.debug(b),e.trigger(a,b)):setTimeout(function(){LiveStreaming.triggerEventAction(a,b)},250)},triggerEndEvent:function(a){LiveStreaming.triggerEventAction(LiveStreaming.endEventType,a)},triggerStartEvent:function(a){LiveStreaming.triggerEventAction(LiveStreaming.startEventType,a)}};